dns:
  cache-algorithm: arc
  enable: true
  listen: 0.0.0.0:53
  ipv6: true
  ipv6-timeout: 300
  prefer-h3: false
  proxy-server-nameserver:
    - https://dns.cloudflare.com/dns-query
    - https://doh-pure.onedns.net/dns-query
    - tls://1dot1dot1dot1.cloudflare-dns.com:853
    - tls://dns10.quad9.net:853
    - tls://unfiltered.adguard-dns.com:853
    - tls://dns.umbrella.com:853
    - tls://dot-pure.onedns.net:853
  default-nameserver:
    - tls://223.5.5.5:853
    - tls://223.6.6.6:853
    - tls://[2400:3200:baba::1]:853
    - tls://[2400:3200::1]:853
    - https://223.5.5.5/dns-query
    - https://223.6.6.6/dns-query
    - https://[2400:3200:baba::1]/dns-query
    - https://[2400:3200::1]/dns-query
    - https://120.53.53.53/dns-query
    - https://1.12.12.12/dns-query
    - tls://1.12.12.12:853
    - tls://120.53.53.53:853
  enhanced-mode: fake-ip
  fake-ip-range: 198.18.0.1/16
  fake-ip-filter:
    - "*.lan"
    - "*.localdomain"
    - "*.example"
    - "*.invalid"
    - "*.localhost"
    - "*.test"
    - "*.local"
    - "*.home.arpa"
    - time.*.com
    - time.*.gov
    - time.*.edu.cn
    - time.*.apple.com
    - time1.*.com
    - time2.*.com
    - time3.*.com
    - time4.*.com
    - time5.*.com
    - time6.*.com
    - time7.*.com
    - ntp.*.com
    - ntp1.*.com
    - ntp2.*.com
    - ntp3.*.com
    - ntp4.*.com
    - ntp5.*.com
    - ntp6.*.com
    - ntp7.*.com
    - "*.time.edu.cn"
    - "*.ntp.org.cn"
    - +.pool.ntp.org
    - time1.cloud.tencent.com
    - music.163.com
    - "*.music.163.com"
    - "*.126.net"
    - musicapi.taihe.com
    - music.taihe.com
    - songsearch.kugou.com
    - trackercdn.kugou.com
    - "*.kuwo.cn"
    - api-jooxtt.sanook.com
    - api.joox.com
    - joox.com
    - y.qq.com
    - "*.y.qq.com"
    - streamoc.music.tc.qq.com
    - mobileoc.music.tc.qq.com
    - isure.stream.qqmusic.qq.com
    - dl.stream.qqmusic.qq.com
    - aqqmusic.tc.qq.com
    - amobile.music.tc.qq.com
    - "*.xiami.com"
    - "*.music.migu.cn"
    - music.migu.cn
    - "*.msftconnecttest.com"
    - "*.msftncsi.com"
    - msftconnecttest.com
    - msftncsi.com
    - localhost.ptlogin2.qq.com
    - localhost.sec.qq.com
    - +.srv.nintendo.net
    - +.stun.playstation.net
    - xbox.*.microsoft.com
    - xnotify.xboxlive.com
    - +.battlenet.com.cn
    - +.wotgame.cn
    - +.wggames.cn
    - +.wowsgame.cn
    - +.wargaming.net
    - proxy.golang.org
    - stun.*.*
    - stun.*.*.*
    - +.stun.*.*
    - +.stun.*.*.*
    - +.stun.*.*.*.*
    - heartbeat.belkin.com
    - "*.linksys.com"
    - "*.linksyssmartwifi.com"
    - "*.router.asus.com"
    - tplogin.cn
    - mesu.apple.com
    - swscan.apple.com
    - swquery.apple.com
    - swdownload.apple.com
    - swcdn.apple.com
    - swdist.apple.com
    - lens.l.google.com
    - stun.l.google.com
    - +.nflxvideo.net
    - "*.square-enix.com"
    - "*.finalfantasyxiv.com"
    - "*.ffxiv.com"
    - WORKGROUP
  nameserver:
    - dhcp://system
    - system
    - https://dns.alidns.com/dns-query
    - https://doh.pub/dns-query
    - https://sm2.doh.pub/dns-query
    - https://dns.rubyfish.cn/dns-query
    - https://doh.360.cn/dns-query
    - https://i.233py.com/dns-query
    - https://v6.rubyfish.cn/dns-query
    - https://dns.cfiec.net/dns-query
    - tls://dot.360.cn:853
    - tls://dot.pub:853
    - tls://dns.alidns.com:853
    - tls://dns.rubyfish.cn:853
    - tls://v6.rubyfish.cn:853
    - tls://dns.ipv6dns.com:853
    - tls://dns.cfiec.net:853
  fallback:
    - https://doh-pure.onedns.net/dns-query
    - tls://dot-pure.onedns.net:853
    - 'https://doh.dns.sb/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'https://dns.cloudflare.com/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'https://dns10.quad9.net/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'https://doh.opendns.com/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'https://dns.google/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'https://public.dns.iij.jp/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'https://dns.twnic.tw/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'https://unfiltered.adguard-dns.com/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'tls://dns10.quad9.net:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'tls://dns.google:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'tls://1dot1dot1dot1.cloudflare-dns.com:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'tls://unfiltered.adguard-dns.com:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'tls://public.dns.iij.jp:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'tls://dns.twnic.tw:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'tls://dot.sb:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'tls://dns.umbrella.com:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
    - 'quic://unfiltered.adguard-dns.com:784#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
  nameserver-policy:
    geosite:cn,private,steam@cn:
      - dhcp://system
      - system
      - https://dns.alidns.com/dns-query
      - https://doh.pub/dns-query
      - https://sm2.doh.pub/dns-query
      - https://dns.rubyfish.cn/dns-query
      - https://doh.360.cn/dns-query
      - https://i.233py.com/dns-query
      - https://v6.rubyfish.cn/dns-query
      - https://dns.cfiec.net/dns-query
      - tls://dot.360.cn:853
      - tls://dot.pub:853
      - tls://dns.alidns.com:853
      - tls://dns.rubyfish.cn:853
      - tls://v6.rubyfish.cn:853
      - tls://dns.ipv6dns.com:853
      - tls://dns.cfiec.net:853
    geosite:gfw,geolocation-!cn:
      - 'https://doh.dns.sb/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'https://dns.cloudflare.com/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'https://dns10.quad9.net/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'https://doh.opendns.com/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'https://dns.google/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'https://public.dns.iij.jp/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'https://dns.twnic.tw/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'https://unfiltered.adguard-dns.com/dns-query#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'tls://dns10.quad9.net:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'tls://dns.google:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'tls://1dot1dot1dot1.cloudflare-dns.com:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'tls://unfiltered.adguard-dns.com:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'tls://public.dns.iij.jp:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'tls://dns.twnic.tw:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'tls://dot.sb:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'tls://dns.umbrella.com:853#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
      - 'quic://unfiltered.adguard-dns.com:784#ğŸš€ èŠ‚ç‚¹é€‰æ‹©'
  fallback-filter:
    geoip: true
    geoip-code: CN
    geosite:
      - gfw
      - geolocation-!cn
    ipcidr:
      - 240.0.0.0/4
      - 0.0.0.0/8
      - 10.0.0.0/8
      - 100.64.0.0/10
      - 127.0.0.0/8
      - 169.254.0.0/16
      - 172.16.0.0/12
      - 192.0.0.0/24
      - 192.0.2.0/24
      - 192.88.99.0/24
      - 192.168.0.0/16
      - 198.18.0.0/15
      - 198.51.100.0/24
      - 203.0.113.0/24
      - 224.0.0.0/4
      - 240.0.0.0/4
      - 255.255.255.255/32
sniffer:
  enable: true
  force-dns-mapping: true
  parse-pure-ip: true
  override-destination: true
  sniff:
    TLS:
      ports: [443, 8443]
    HTTP:
      ports: [80, 8080-8880]
      override-destination: true
    QUIC:
      ports: [443]
  skip-domain:
    - 'Mijia Cloud'
    - 'dlg.io.mi.com'
    - '+.apple.com'
  # - '*.baidu.com'
  force-domain:
  # - '+'
    - 'google.com'
geox-url:
  geoip: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geoip.dat"
  geosite: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/geosite.dat"
  mmdb: "https://cdn.jsdelivr.net/gh/MetaCubeX/meta-rules-dat@release/country.mmdb"
geo-auto-update: true
geo-update-interval: 24
allow-lan: true
tcp-concurrent: true
mixed-port: 7890
log-level: silent
ipv6: true
experimental:
  ignore-resolve-fail: true
external-controller: '0.0.0.0:9090'
cfw-latency-timeout: 3000
cfw-latency-url: https://www.google.com/generate_204
cfw-conn-break-strategy:
  proxy: chain # none/chain/all
  profile: true # true/false
  mode: true # true/false
profile:                   
  store-selected: true
  store-fake-ip: true
cfw-bypass-bak:
  # åŸæœ‰å­—æ®µä¸ç”¨åˆ é™¤
  - qq.com
  - 'music.163.com' # ç½‘æ˜“äº‘åŸŸå1
  - '*.music.126.net' # ç½‘æ˜“äº‘åŸŸå2
  - localhost
  - 127.*
  - 10.*
  - 172.16.*
  - 172.17.*
  - 172.18.*
  - 172.19.*
  - 172.20.*
  - 172.21.*
  - 172.22.*
  - 172.23.*
  - 172.24.*
  - 172.25.*
  - 172.26.*
  - 172.27.*
  - 172.28.*
  - 172.29.*
  - 172.30.*
  - 172.31.*
  - 192.168.*
  - <local>
mode: Rule
